<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>COMP1073 Client-Side JavaScript</title>
    <link rel="stylesheet" href="guess.css" />
  </head>

  <body>
    <h1>Number Guessing Game</h1>
    <p>I have picked a random number between 1 and 100. You have 10 chances to guess the number.</p>

    <!-- Guessing form controls -->
    <label for="guessField">Enter a guess: </label>
    <input type="number" id="guessField">
    <button>Submit guess</button>
    <button id="reset">Reset</button>

    <!-- Elements to contain feedback for user -->
    <section>
      <p id="guesses"></p>
      <p id="lastResult"></p>
      <p id="lowOrHi"></p>
    </section>

    <script>

    var randomNumber = Math.floor(Math.random() * 101);
    var userGuess = document.querySelector('#guessField');
    var submit = document.querySelector('button');
    var lowOrHighMessage = document.querySelector('#lowOrHi')
    var guessCountMessage = document.querySelector('#lastResult')
    var resetGame = document.querySelector('#reset');
    var guessCounter = 0;
    

    submit.addEventListener("click", checkGuess);
    resetGame.addEventListener("click", reset);

    function checkGuess(){
     guessCounter ++;
      if (guessCounter == 10){
        reset();
      }else{

     guessCountMessage.textContent = "Number of guesses = " + guessCounter; 

      var btn = document.createTextNode(guessCounter);

      if (userGuess.value == randomNumber){
        lowOrHighMessage.textContent = "CORRECT"
      }else if (userGuess.value < randomNumber){
        lowOrHighMessage.textContent = "TOO LOW"
      }else{
        lowOrHighMessage.textContent = "TOO HIGH"
      }
    }
  }


    function reset(){
      randomNumber = Math.floor(Math.random() * 101);
      guessCounter = 0;
      guessCountMessage.textContent = "Number of guesses = 0";
      lowOrHighMessage.textContent = "";

    }
  </script>
  </body>
</html>
